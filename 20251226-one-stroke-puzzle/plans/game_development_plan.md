# 個人開発パズルゲーム：開発計画書 (v1.2)

## 1. ゲームコンセプト
**タイトル（仮）: One-Stroke Grid Puzzle**
- **ジャンル**: 一筆書きパズル
- **ルール**: グリッド上のスタート地点から、全ての（あるいは特定の）マスを一度だけ通過してゴールを目指す。
- **ターゲット**: スマホ・PC両対応
- **ポートフォリオとしての魅力**:
    - **グラフ理論/探索アルゴリズム**: ハミルトンパス（Hamiltonian path）問題に基づいたステージ生成や正誤判定ロジック。
    - **直感的なUI/UX**: ドラッグ＆ドロップまたはスワイプによる一連の軌跡描画。
    - **洗練された演出**: 通過したマスの色変化、クリア時のエフェクト。

---

## 2. 技術選定
| カテゴリ | 選定技術 | 理由 |
| :--- | :--- | :--- |
| **Framework** | **Next.js (App Router)** | モダンフロントエンドの必須スキル。 |
| **Language** | **TypeScript** | 厳格な型管理によるロジックの安全性。 |
| **Styling** | **Tailwind CSS** | 迅速なスタイリング。 |
| **State** | **Zustand** | パス（軌跡）のデータ保持・更新。 |
| **Animation** | **Framer Motion** | 描画されるラインのアニメーション、UIのレスポンス。 |

---

## 3. 最小構成 (MVP)
1.  **5x5 グリッド**: スタートとゴールの配置。
2.  **一筆書きロジック**: マスをクリック/ドラッグで繋ぎ、重複なく全マスを通ったか判定。
3.  **リセット機能**: 途中でやり直す機能。
4.  **レスポンシブ**: スマホのタッチ操作への対応。

---

## 4. 開発ロードマップ
1.  **Phase 1**: 基本リポジトリ構築、ハミルトンパス判定ロジックの実装。
2.  **Phase 2**: タッチ/ドラッグ操作の実装と、軌跡の視覚化（Framer Motion）。
3.  **Phase 3**: ステージ選択機能、クリア演出、SE追加。
4.  **Phase 4**: Supabase によるユーザー自作ステージの投稿・共有機能、PWA化。

---

## 5. 推奨ディレクトリ構造
```text
src/
├── app/          # Next.js App Router (Pages, Layouts)
├── components/   # UIパーツ (Atomic Designを意識)
│   ├── elements/ # Button, Tile など
│   └── game/     # Board, Hud など
├── hooks/        # ゲームロジック (useGame, useTimer)
├── store/        # Zustand (gameState, userSettings)
├── lib/          # アルゴリズム、ユーティリティ関数
└── types/        # TypeScript 型定義
```
